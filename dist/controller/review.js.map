{"version":3,"sources":["../../src/controller/review.js"],"names":["config","db","api","get","req","res","find","err","reviews","send","json","locationid","params","location_id","delete","remove","_id","id","review","message"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;AAEA;;;;kBAEc,gBAAoB;AAAA,MAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,MAATC,EAAS,QAATA,EAAS;;AAChC,MAAIC,MAAM,sBAAV;;AAEA;AACAA,MAAIC,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzB,qBAAOC,IAAP,CAAY,EAAZ,EAAgB,UAACC,GAAD,EAAMC,OAAN,EAAkB;AAChC,UAAID,GAAJ,EAAS;AACPF,YAAII,IAAJ,CAASF,GAAT;AACD;AACDF,UAAIK,IAAJ,CAASF,OAAT;AACD,KALD;AAMD,GAPD;;AASA;AACA;AACAN,MAAIC,GAAJ,CAAQ,eAAR,EAAyB,UAACC,GAAD,EAAMC,GAAN,EAAc;AACrC,qBAAOC,IAAP,CAAY,EAACK,YAAYP,IAAIQ,MAAJ,CAAWC,WAAxB,EAAZ,EAAkD,UAACN,GAAD,EAAMC,OAAN,EAAkB;AAClE,UAAGD,GAAH,EAAO;AACLF,YAAII,IAAJ,CAASF,GAAT;AACD;AACDF,UAAIK,IAAJ,CAASF,OAAT;AACD,KALD;AAMD,GAPD;;AAUA;AACAN,MAAIY,MAAJ,CAAW,MAAX,gCAAiC,UAACV,GAAD,EAAMC,GAAN,EAAc;AAC7C,qBAAOU,MAAP,CAAc;AACZC,WAAKZ,IAAIQ,MAAJ,CAAWK;AADJ,KAAd,EAEG,UAACV,GAAD,EAAMW,MAAN,EAAiB;AAClB,UAAIX,GAAJ,EAAS;AACPF,YAAII,IAAJ,CAASF,GAAT;AACD;AACDF,UAAIK,IAAJ,CAAS,EAACS,SAAS,6BAAV,EAAT;AACD,KAPD;AAQD,GATD;;AAWA,SAAOjB,GAAP;AACD,C","file":"review.js","sourcesContent":["import mongoose from 'mongoose';\nimport { Router } from 'express';\nimport bodyParser from 'body-parser';\nimport Review from '../model/review';\n\nimport { authenticate } from '../middleware/authMiddleware'\n\nexport default({ config, db }) => {\n  let api = Router();\n\n  // 'v1/review' - Read\n  api.get('/', (req, res) => {\n    Review.find({}, (err, reviews) => {\n      if (err) {\n        res.send(err);\n      }\n      res.json(reviews);\n    });\n  });\n\n  // GET reviews of specific location id\n  // 'v1/review/:locationid'\n  api.get('/:location_id', (req, res) => {\n    Review.find({locationid: req.params.location_id}, (err, reviews) => {\n      if(err){\n        res.send(err);\n      }\n      res.json(reviews);\n    });\n  });\n\n\n  // '/v1/review/:id' - DELETE - remove a hotel\n  api.delete('/:id', authenticate, (req, res) => {\n    Review.remove({\n      _id: req.params.id\n    }, (err, review) => {\n      if (err) {\n        res.send(err);\n      }\n      res.json({message: \"Review Successfully Removed\"});\n    });\n  });\n\n  return api;\n}\n"]}